---
layout: default
title: "San Francisco Crime Magazine"
---

<h1>Group members</h1>

 <p>
  Andrés Ísak Hlynsson (s242978)
  Þorvaldur Lúðvíksson (s242975)

  </p>




<section>
  <h2>Introduction to the dataset</h2>
  <p>
  The dataset that will be used for this particular assignment contains information (data) related to the San Francisco crime scene. The dataset is quite vast and contains all sort of relevant information related to crimes that have taken place in various neighborhoods within the San Francisco area, it is very well structured in that for any given crime there will be a listing of various highly relevant information, such as: Type of crime, where it took place (GPS coordinate), date of the crime etc. As has been previously mentioned the dataset is quite vast but the data dates from present day all the way back to 2003.
  </p>
</section>

<section>
  <h2>Research question</h2>
  <p>
  Our area of interest for this assignment has to do with the location of where the crimes have taken place. More specifically we want to analyse whether or not the same neighborhoods have always dominated in the amount of crimes that are occuring or whether there is a shift that has taken place through the years. We therefore want to examine the crime rate for various neighborhoods  and see which neighborhoods have been more successful then others in eliminating crime, and perhaps dwelve deeper and try to understand the underlying causes for this.
  </p>
</section>

<section>
  <h2>Bar charts for crime rate within various San Francisco neighborhoods</h2>
  <p> The first data visualization is fairly straightforward but it contains a bar chart for the amount of crimes that have taken place between 2004-2024 for ten different neighborhoods within the San Francisco area. The first observation that the group made when looking through these charts was that the amount of crime that took place was considerably lower for 2024 compared to 2004 for all of the neighborhoods except for Tenderloin (and Central). This particular neighborhood in SF is actually quite notorious for the illegal activities that seem to be taking place there, infact one of the first search results on google for "San Francisco Tenderloin" is a one hour youtube video titled "How terrifying is it to walk San Francisco's Tenderloin District?". According to Wikipedia the area has particularly high instances for violent street crimes such as robbery and assault, car theft happens on a regular basis and street dealing and use of illicit drugs is apperently a common occurance. When looking through the bar chart for Central we can also notice that the difference in the amount of crime that occurs for 2004 compared to 2024 is not that great. The amount of crime is also significantly lower for the year 2020 compared to other years for Central but the reason for that is mainly thought to be the Covid-19 pandemic, given that the area had to be shut down during that time. (see source: https://www.sf.gov/news--san-franciscos-public-safety-efforts-deliver-results-decline-crime-rates?)  </p>

  <div style="margin-bottom: 2em;">
    <h3>San Francisco crime rate for the years 2004-2024</h3>
    <img src="images/crimes_per_district_by_year.png" alt="Mission District crime scene" style="max-width:100%; height:auto;">
  </div>
  </section>


  <section>
  <h2>Heat map for crime rate within various San Francisco neighborhoods</h2>
  <p>When looking through the crime heat map for these ten neighborhoods within SF their are various interesting things that jump out immediately, first of which is the progression and changes that have taken place within the neighborhood Southern. The amount of crime that occurs in that particular neighborhood skyrockets in 2013-2017, however after 2017 there is a very steep decline in crimes commited that occurs within this area. Also their is a quite noticable drop in crimes that occurs for Northern in 2010-2011, and a spike for the neighborhood Tenderloin which occurs during 2007-2009. </p>
  <div>
    <h3>San Francisco crime heatmap for the years 2004-2024</h3>
    <img src="images/crime_heatmap_2004_2024.png" alt="Police in Tenderloin" style="max-width:100%; height:auto;">
    
  </div>
</section>

<section>

  <h2>Interactive Crime Plot</h2>

  <p> Finally we want to be able to see more clearly how the neighborhoods rank compared to one another for the amount of crime that occurs through the years. We can create two groups for these nighborhoods and have it so that the higher group only contains neighborhoods that have at some point ranked in the top 5 for most crimes commited through the years, while the same can not be said for the lower group. The neighborhoods that belong to the higher group are: Bayview, Central, Mission, Northern, Southern, Tenderloin. The neighborhoods that belong to the lower group and would therefore be considered safer in comparision are: Ingleside, Park, Richmond, Taraval. Many noticable observation can be made when examing the higher group. For statrters, despite having a reputation for being a somewhat dangerous area, we can see that Tenderloin never ranks higher than fifth for most crimes and is actually ranked considerably low through most of 2004-2024. This ranking is obviously considering total crime that is commited within the area and the population for Tenderloin is only 25.067 (see source: https://en.wikipedia.org/wiki/Tenderloin,_San_Francisco) which is considerably lower when compared to for example Central SF. Further examination of the higher group also shows that Southern ranks the highest for most crimes committed through 2004-2017 but then drops quite noticably after that and never ranks higher then third after 2019. Around the same time that Southern starts to rank lower, both Northern and Central start to rank noticably higher, but those two are both in the top two places from crimes committed from 2018 onwards. When examining the lower group however we notice that there are only two neighborhoods who ate any point rank the lowest (Richmond and Park), but Taraval and Ingleside rank closer to the middle throughout most of the 2004-2024 period. </p>



  <!-- Bokeh plot container -->
  <div id="ee8fc1e5-92b1-4223-8499-2aa75580713d" data-root-id="p3452" style="display: contents;"></div>

  <!-- BokehJS CDN -->
  <script src="https://cdn.bokeh.org/bokeh/release/bokeh-3.7.1.min.js"></script>
  <script src="https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.7.1.min.js"></script>

  <!-- Embedded plot logic -->
  <script type="text/javascript">
    (function() {
      const fn = function() {
        Bokeh.safely(function() {
          (function(root) {
            function embed_document(root) {
              const docs_json = '{"fb2ec006-3983-4505-b806-b68ceea9c2a9":{"version":"3.7.1","title":"Bokeh Application","roots":[{"type":"object","name":"Row","id":"p3452","attributes":{"children":[{"type":"object","name":"Column","id":"p3451","attributes":{"children":[{"type":"object","name":"CheckboxGroup","id":"p3448","attributes":{"js_property_callbacks":{"type":"map","entries":[["change:active",[{"type":"object","name":"CustomJS","id":"p3449","attributes":{"args":{"type":"map","entries":[["renderers",[{"type":"object","name":"GlyphRenderer","id":"p3364","attributes":{"visible":false,"data_source":{"type":"object","name":"ColumnDataSource","id":"p3320","attributes":{"selected":{"type":"object","name":"Selection","id":"p3321","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p3322"},"data":{"type":"map","entries":[["Year",[2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024]],["BAYVIEW",[4,4,5,5,6,6,4,5,5,5,5,5,5,5,5,6,5,5,6,7,6]],["CENTRAL",[5,5,4,4,4,4,5,4,4,4,4,3,4,4,1,1,2,1,1,1,1]],["INGLESIDE",[6,6,6,7,7,7,6,6,6,6,6,6,7,7,7,7,6,6,8,6,7]],["MISSION",[2,3,3,2,2,2,2,2,2,2,3,4,3,3,3,3,3,3,4,3,3]],["NORTHERN",[3,2,2,3,3,3,3,3,3,3,2,2,2,2,4,2,1,2,2,2,2]],["PARK",[9,9,9,9,10,9,9,9,9,9,9,10,10,9,10,10,10,10,10,10,10]],["RICHMOND",[10,10,10,10,9,10,10,10,10,10,10,9,8,8,9,9,9,8,9,9,9]],["SOUTHERN",[1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,4,4,4,3,4,4]],["TARAVAL",[7,7,7,8,8,8,8,7,7,8,7,7,6,6,8,8,8,9,7,8,8]],["TENDERLOIN",[8,8,8,6,5,5,7,8,8,7,8,8,9,10,6,5,7,7,5,5,5]]]}}},"view":{"type":"object","name":"CDSView","id":"p3365","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p3366"}}},"glyph":{"type":"object","name":"Line","id":"p3361","attributes":{"x":{"type":"field","field":"Year"},"y":{"type":"field","field":"BAYVIEW"},"line_color":"#1f77b4","line_width":2}},"nonselection_glyph":{"type":"object","name":"Line","id":"p3362","attributes":{"x":{"type":"field","field":"Year"},"y":{"type":"field","field":"BAYVIEW"},"line_color":"#1f77b4","line_alpha":0.1,"line_width":2}},"muted_glyph":{"type":"object","name":"Line","id":"p3363","attributes":{"x":{"type":"field","field":"Year"},"y":{"type":"field","field":"BAYVIEW"},"line_color":"#1f77b4","line_alpha":0.2,"line_width":2}}}},{"type":"object","name":"GlyphRenderer","id":"p3373","attributes":{"visible":false,"data_source":{"id":"p3320"},"view":{"type":"object","name":"CDSView","id":"p3374","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p3375"}}},"glyph":{"type":"object","name":"Line","id":"p3370","attributes":{"x":{"type":"field","field":"Year"},"y":{"type":"field","field":"CENTRAL"},"line_color":"#aec7e8","line_width":2}},"nonselection_glyph":{"type":"object","name":"Line","id":"p3371","attributes":{"x":{"type":"field","field":"Year"},"y":{"type":"field","field":"CENTRAL"},"line_color":"#aec7e8","line_alpha":0.1,"line_width":2}},"muted_glyph":{"type":"object","name":"Line","id":"p3372","attributes":{"x":{"type":"field","field":"Year"},"y":{"type":"field","field":"CENTRAL"},"line_color":"#aec7e8","line_alpha":0.2,"line_width":2}}}},{"type":"object","name":"GlyphRenderer","id":"p3382","attributes":{"visible":false,"data_source":{"id":"p3320"},"view":{"type":"object","name":"CDSView","id":"p3383","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p3384"}}},"glyph":{"type":"object","name":"Line","id":"p3379","attributes":{"x":{"type":"field","field":"Year"},"y":{"type":"field","field":"INGLESIDE"},"line_color":"#ff7f0e","line_width":2}},"nonselection_glyph":{"type":"object","name":"Line","id":"p3380","attributes":{"x":{"type":"field","field":"Year"},"y":{"type":"field","field":"INGLESIDE"},"line_color":"#ff7f0e","line_alpha":0.1,"line_width":2}},"muted_glyph":{"type":"object","name":"Line","id":"p3381","attributes":{"x":{"type":"field","field":"Year"},"y":{"type":"field","field":"INGLESIDE"},"line_color":"#ff7f0e","line_alpha":0.2,"line_width":2}}}},{"type":"object","name":"GlyphRenderer","id":"p3391","attributes":{"visible":false,"data_source":{"id":"p3320"},"view":{"type":"object","name":"CDSView","id":"p3392","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p3393"}}},"glyph":{"type":"object","name":"Line","id":"p3388","attributes":{"x":{"type":"field","field":"Year"},"y":{"type":"field","field":"MISSION"},"line_color":"#ffbb78","line_width":2}},"nonselection_glyph":{"type":"object","name":"Line","id":"p3389","attributes":{"x":{"type":"field","field":"Year"},"y":{"type":"field","field":"MISSION"},"line_color":"#ffbb78","line_alpha":0.1,"line_width":2}},"muted_glyph":{"type":"object","name":"Line","id":"p3390","attributes":{"x":{"type":"field","field":"Year"},"y":{"type":"field","field":"MISSION"},"line_color":"#ffbb78","line_alpha":0.2,"line_width":2}}}},{"type":"object","name":"GlyphRenderer","id":"p3400","attributes":{"visible":false,"data_source":{"id":"p3320"},"view":{"type":"object","name":"CDSView","id":"p3401","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p3402"}}},"glyph":{"type":"object","name":"Line","id":"p3397","attributes":{"x":{"type":"field","field":"Year"},"y":{"type":"field","field":"NORTHERN"},"line_color":"#2ca02c","line_width":2}},"nonselection_glyph":{"type":"object","name":"Line","id":"p3398","attributes":{"x":{"type":"field","field":"Year"},"y":{"type":"field","field":"NORTHERN"},"line_color":"#2ca02c","line_alpha":0.1,"line_width":2}},"muted_glyph":{"type":"object","name":"Line","id":"p3399","attributes":{"x":{"type":"field","field":"Year"},"y":{"type":"field","field":"NORTHERN"},"line_color":"#2ca02c","line_alpha":0.2,"line_width":2}}}},{"type":"object","name":"GlyphRenderer","id":"p3409","attributes":{"visible":false,"data_source":{"id":"p3320"},"view":{"type":"object","name":"CDSView","id":"p3410","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p3411"}}},"glyph":{"type":"object","name":"Line","id":"p3406","attributes":{"x":{"type":"field","field":"Year"},"y":{"type":"field","field":"PARK"},"line_color":"#98df8a","line_width":2}},"nonselection_glyph":{"type":"object","name":"Line","id":"p3407","attributes":{"x":{"type":"field","field":"Year"},"y":{"type":"field","field":"PARK"},"line_color":"#98df8a","line_alpha":0.1,"line_width":2}},"muted_glyph":{"type":"object","name":"Line","id":"p3408","attributes":{"x":{"type":"field","field":"Year"},"y":{"type":"field","field":"PARK"},"line_color":"#98df8a","line_alpha":0.2,"line_width":2}}}},{"type":"object","name":"GlyphRenderer","id":"p3418","attributes":{"visible":false,"data_source":{"id":"p3320"},"view":{"type":"object","name":"CDSView","id":"p3419","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p3420"}}},"glyph":{"type":"object","name":"Line","id":"p3415","attributes":{"x":{"type":"field","field":"Year"},"y":{"type":"field","field":"RICHMOND"},"line_color":"#d62728","line_width":2}},"nonselection_glyph":{"type":"object","name":"Line","id":"p3416","attributes":{"x":{"type":"field","field":"Year"},"y":{"type":"field","field":"RICHMOND"},"line_color":"#d62728","line_alpha":0.1,"line_width":2}},"muted_glyph":{"type":"object","name":"Line","id":"p3417","attributes":{"x":{"type":"field","field":"Year"},"y":{"type":"field","field":"RICHMOND"},"line_color":"#d62728","line_alpha":0.2,"line_width":2}}}},{"type":"object","name":"GlyphRenderer","id":"p3427","attributes":{"visible":false,"data_source":{"id":"p3320"},"view":{"type":"object","name":"CDSView","id":"p3428","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p3429"}}},"glyph":{"type":"object","name":"Line","id":"p3424","attributes":{"x":{"type":"field","field":"Year"},"y":{"type":"field","field":"SOUTHERN"},"line_color":"#ff9896","line_width":2}},"nonselection_glyph":{"type":"object","name":"Line","id":"p3425","attributes":{"x":{"type":"field","field":"Year"},"y":{"type":"field","field":"SOUTHERN"},"line_color":"#ff9896","line_alpha":0.1,"line_width":2}},"muted_glyph":{"type":"object","name":"Line","id":"p3426","attributes":{"x":{"type":"field","field":"Year"},"y":{"type":"field","field":"SOUTHERN"},"line_color":"#ff9896","line_alpha":0.2,"line_width":2}}}},{"type":"object","name":"GlyphRenderer","id":"p3436","attributes":{"visible":false,"data_source":{"id":"p3320"},"view":{"type":"object","name":"CDSView","id":"p3437","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p3438"}}},"glyph":{"type":"object","name":"Line","id":"p3433","attributes":{"x":{"type":"field","field":"Year"},"y":{"type":"field","field":"TARAVAL"},"line_color":"#9467bd","line_width":2}},"nonselection_glyph":{"type":"object","name":"Line","id":"p3434","attributes":{"x":{"type":"field","field":"Year"},"y":{"type":"field","field":"TARAVAL"},"line_color":"#9467bd","line_alpha":0.1,"line_width":2}},"muted_glyph":{"type":"object","name":"Line","id":"p3435","attributes":{"x":{"type":"field","field":"Year"},"y":{"type":"field","field":"TARAVAL"},"line_color":"#9467bd","line_alpha":0.2,"line_width":2}}}},{"type":"object","name":"GlyphRenderer","id":"p3445","attributes":{"visible":false,"data_source":{"id":"p3320"},"view":{"type":"object","name":"CDSView","id":"p3446","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p3447"}}},"glyph":{"type":"object","name":"Line","id":"p3442","attributes":{"x":{"type":"field","field":"Year"},"y":{"type":"field","field":"TENDERLOIN"},"line_color":"#c5b0d5","line_width":2}},"nonselection_glyph":{"type":"object","name":"Line","id":"p3443","attributes":{"x":{"type":"field","field":"Year"},"y":{"type":"field","field":"TENDERLOIN"},"line_color":"#c5b0d5","line_alpha":0.1,"line_width":2}},"muted_glyph":{"type":"object","name":"Line","id":"p3444","attributes":{"x":{"type":"field","field":"Year"},"y":{"type":"field","field":"TENDERLOIN"},"line_color":"#c5b0d5","line_alpha":0.2,"line_width":2}}}}]],["checkbox",{"id":"p3448"}]]},"code":"\\n    const selected = new Set(checkbox.active);\\n    for (let i = 0; i &lt; renderers.length; i++) {\\n        renderers[i].visible = selected.has(i);\\n    }\\n"}}]]]},"labels":["BAYVIEW","CENTRAL","INGLESIDE","MISSION","NORTHERN","PARK","RICHMOND","SOUTHERN","TARAVAL","TENDERLOIN"]}},{"type":"object","name":"Div","id":"p3450","attributes":{"width":200,"text":"&lt;b&gt;Color Legend:&lt;/b&gt;&lt;br&gt;&lt;div style=&#x27;line-height:1.6em;&#x27;&gt;&lt;span style=&#x27;color:#1f77b4; font-weight:bold&#x27;&gt;\\u25a0&lt;/span&gt; BAYVIEW&lt;br&gt;&lt;span style=&#x27;color:#aec7e8; font-weight:bold&#x27;&gt;\\u25a0&lt;/span&gt; CENTRAL&lt;br&gt;&lt;span style=&#x27;color:#ff7f0e; font-weight:bold&#x27;&gt;\\u25a0&lt;/span&gt; INGLESIDE&lt;br&gt;&lt;span style=&#x27;color:#ffbb78; font-weight:bold&#x27;&gt;\\u25a0&lt;/span&gt; MISSION&lt;br&gt;&lt;span style=&#x27;color:#2ca02c; font-weight:bold&#x27;&gt;\\u25a0&lt;/span&gt; NORTHERN&lt;br&gt;&lt;span style=&#x27;color:#98df8a; font-weight:bold&#x27;&gt;\\u25a0&lt;/span&gt; PARK&lt;br&gt;&lt;span style=&#x27;color:#d62728; font-weight:bold&#x27;&gt;\\u25a0&lt;/span&gt; RICHMOND&lt;br&gt;&lt;span style=&#x27;color:#ff9896; font-weight:bold&#x27;&gt;\\u25a0&lt;/span&gt; SOUTHERN&lt;br&gt;&lt;span style=&#x27;color:#9467bd; font-weight:bold&#x27;&gt;\\u25a0&lt;/span&gt; TARAVAL&lt;br&gt;&lt;span style=&#x27;color:#c5b0d5; font-weight:bold&#x27;&gt;\\u25a0&lt;/span&gt; TENDERLOIN&lt;br&gt;&lt;/div&gt;"}}]}},{"type":"object","name":"Figure","id":"p3323","attributes":{"width":900,"height":500,"x_range":{"type":"object","name":"DataRange1d","id":"p3324"},"y_range":{"type":"object","name":"DataRange1d","id":"p3325","attributes":{"flipped":true}},"x_scale":{"type":"object","name":"LinearScale","id":"p3333"},"y_scale":{"type":"object","name":"LinearScale","id":"p3334"},"title":{"type":"object","name":"Title","id":"p3326","attributes":{"text":"Crime Rank per Year by District (2004\\u20132024)"}},"renderers":[{"id":"p3364"},{"id":"p3373"},{"id":"p3382"},{"id":"p3391"},{"id":"p3400"},{"id":"p3409"},{"id":"p3418"},{"id":"p3427"},{"id":"p3436"},{"id":"p3445"}],"toolbar":{"type":"object","name":"Toolbar","id":"p3332","attributes":{"tools":[{"type":"object","name":"PanTool","id":"p3345"},{"type":"object","name":"BoxZoomTool","id":"p3346","attributes":{"dimensions":"both","overlay":{"type":"object","name":"BoxAnnotation","id":"p3347","attributes":{"syncable":false,"line_color":"black","line_alpha":1.0,"line_width":2,"line_dash":[4,4],"fill_color":"lightgrey","fill_alpha":0.5,"level":"overlay","visible":false,"left":{"type":"number","value":"nan"},"right":{"type":"number","value":"nan"},"top":{"type":"number","value":"nan"},"bottom":{"type":"number","value":"nan"},"left_units":"canvas","right_units":"canvas","top_units":"canvas","bottom_units":"canvas","handles":{"type":"object","name":"BoxInteractionHandles","id":"p3353","attributes":{"all":{"type":"object","name":"AreaVisuals","id":"p3352","attributes":{"fill_color":"white","hover_fill_color":"lightgray"}}}}}}}},{"type":"object","name":"ResetTool","id":"p3354"},{"type":"object","name":"SaveTool","id":"p3355"}]}},"left":[{"type":"object","name":"LinearAxis","id":"p3340","attributes":{"ticker":{"type":"object","name":"FixedTicker","id":"p3357","attributes":{"ticks":[1,2,3,4,5,6,7,8,9,10],"minor_ticks":[]}},"formatter":{"type":"object","name":"BasicTickFormatter","id":"p3342"},"axis_label":"Crime Rank (1 = Most Crimes)","major_label_policy":{"type":"object","name":"AllLabels","id":"p3343"}}}],"below":[{"type":"object","name":"LinearAxis","id":"p3335","attributes":{"ticker":{"type":"object","name":"FixedTicker","id":"p3356","attributes":{"ticks":[2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024],"minor_ticks":[]}},"formatter":{"type":"object","name":"BasicTickFormatter","id":"p3337"},"axis_label":"Year","major_label_orientation":0.8,"major_label_policy":{"type":"object","name":"AllLabels","id":"p3338"}}}],"center":[{"type":"object","name":"Grid","id":"p3339","attributes":{"axis":{"id":"p3335"}}},{"type":"object","name":"Grid","id":"p3344","attributes":{"dimension":1,"axis":{"id":"p3340"}}}]}}]}}]}}';
       
              const render_items = [{"docid":"fb2ec006-3983-4505-b806-b68ceea9c2a9","roots":{"p3452":"ee8fc1e5-92b1-4223-8499-2aa75580713d"},"root_ids":["p3452"]}];
              root.Bokeh.embed.embed_items(docs_json, render_items);
            }

            if (root.Bokeh !== undefined) {
              embed_document(root);
            } else {
              let attempts = 0;
              const timer = setInterval(function(root) {
                if (root.Bokeh !== undefined) {
                  clearInterval(timer);
                  embed_document(root);
                } else {
                  attempts++;
                  if (attempts > 100) {
                    clearInterval(timer);
                    console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
                  }
                }
              }, 10, root);
            }
          })(window);
        });
      };
      if (document.readyState != "loading") fn();
      else document.addEventListener("DOMContentLoaded", fn);
    })();
  </script>
</section>

<section>

<h2> Contribution </h2>
<p> Andrés: Github website setup, Most of the data interpretation, some coding for the final interactive plot</p>
<p> Þorvaldur: Most of the work for the python coding for the plots, some data interpretation.</p>

</section>